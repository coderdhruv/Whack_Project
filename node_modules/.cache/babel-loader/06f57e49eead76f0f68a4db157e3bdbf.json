{"ast":null,"code":"var _jsxFileName = \"/home/dhruv/Desktop/Walmart/WalmartProj/src/Map.js\";\nimport * as React from 'react';\nimport { matchPath } from 'react-router';\nimport { db } from './config';\nconst list = [];\nconst dict1 = {};\nconst list2 = [];\nvar cnt = 0;\nvar mouseX = 0;\nvar mouseY = 0;\nvar tempX = 0;\nvar tempY = 0;\n\nclass Map extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      canvas: null,\n      ctx: null,\n      list: [],\n      dict: {},\n      cnt: 0,\n      todos: {}\n    };\n  }\n\n  componentDidMount() {\n    db.ref('/users').on('value', querySnapShot => {\n      let data = querySnapShot.val() ? querySnapShot.val() : {};\n      let todoItems = data;\n      console.log(data);\n    });\n    db.ref('/coordinates/Shelf_Num').on('value', querySnapShot => {\n      let data = querySnapShot.val() ? querySnapShot.val() : {};\n      let todoItems = data;\n\n      for (var i = 0; i < data.length; i++) {\n        console.log(data[i].key);\n      }\n\n      console.log(data);\n    }); // db.ref(\"/users\").on('value',function(querySnapshot) {\n    //     querySnapshot.forEach(function(doc) {\n    //         // doc.data() is never undefined for query doc snapshots\n    //         console.log(doc.id, \" => \", doc.data());\n    //     });\n    // });\n    //console.log(this.todos)\n    // console.log(this.refs)\n\n    var canvas = this.refs.canvas;\n    var ctx = canvas.getContext(\"2d\");\n    ctx.strokeRect(5, 5, 100, 100);\n\n    for (var k = 0; k < 3; k++) {\n      var x = 250;\n      var y = 290 * k + 60;\n      var size = 100;\n      var start_x = x;\n      var start_y = y;\n\n      for (var j = 0; j < 2; j++) {\n        for (var i = 0; i < 4; i++) {\n          var final_x = start_x + size;\n          var final_y = start_y + size;\n          ctx.strokeRect(start_x, start_y, size, size);\n          start_x = start_x + size;\n        }\n\n        start_x = x;\n        start_y = start_y + size;\n      }\n    }\n\n    var x = 150;\n    var y = 30;\n    var n = 4;\n    var length = 580;\n    var gap = 280;\n\n    for (var i = 0; i < n; i++) {\n      ctx.beginPath();\n      ctx.moveTo(x, y);\n      ctx.lineTo(x + length, y);\n      y = y + gap;\n      ctx.strokeStyle = \"#FF0000\";\n      ctx.stroke();\n    }\n\n    ctx.beginPath();\n    ctx.moveTo(150, 30);\n    ctx.lineTo(150, 30 + 280 * 3);\n    ctx.strokeStyle = \"#FF0000\";\n    ctx.stroke();\n    ctx.beginPath();\n    ctx.moveTo(150 + 580, 30);\n    ctx.lineTo(150 + 580, 30 + 280 * 3);\n    ctx.strokeStyle = \"#FF0000\";\n    ctx.stroke();\n    ctx.strokeStyle = \"#000000\"; //next set of paths\n\n    for (var k = 0; k < 3; k++) {\n      var x = 810;\n      var y = 290 * k + 60;\n      var size = 100;\n      var start_x = x;\n      var start_y = y;\n\n      for (var j = 0; j < 2; j++) {\n        for (var i = 0; i < 4; i++) {\n          var final_x = start_x + size;\n          var final_y = start_y + size;\n          ctx.strokeRect(start_x, start_y, size, size);\n          start_x = start_x + size;\n        }\n\n        start_x = x;\n        start_y = start_y + size;\n      }\n    }\n\n    var x = 730;\n    var y = 30;\n    var n = 4;\n    var length = 580;\n    var gap = 280;\n\n    for (var i = 0; i < n; i++) {\n      ctx.beginPath();\n      ctx.moveTo(x, y);\n      ctx.lineTo(x + length, y);\n      y = y + gap;\n      ctx.strokeStyle = \"#FF0000\";\n      ctx.stroke();\n    }\n\n    ctx.beginPath();\n    ctx.moveTo(730, 30);\n    ctx.lineTo(730, 30 + 280 * 3);\n    ctx.strokeStyle = \"#FF0000\";\n    ctx.stroke();\n    ctx.beginPath();\n    ctx.moveTo(730 + 580, 30);\n    ctx.lineTo(730 + 580, 30 + 280 * 3);\n    ctx.strokeStyle = \"#FF0000\";\n    ctx.stroke();\n    x = 0;\n    y = 170;\n    size = 100;\n\n    for (var i = 0; i < 3; i++) {\n      ctx.moveTo(x, y);\n      ctx.strokeRect(x, y, size + 20, size);\n      y = y + 200;\n    }\n\n    ctx.strokeStyle = \"#000000\";\n    ctx.strokeRect(5, 750, 100, 100);\n    mouseX = 150;\n    mouseY = 870;\n    this.setState({\n      ctx: ctx\n    });\n  }\n\n  deleteArc() {\n    this.state.ctx.beginPath();\n    this.state.ctx.arc(tempX, tempY, 20, 0, 2 * Math.PI);\n    this.state.ctx.stroke();\n  }\n\n  update(x, y) {\n    this.state.ctx.beginPath();\n    this.state.ctx.arc(x, y, 20, 0, 2 * Math.PI);\n    this.state.ctx.stroke();\n    tempX = x;\n    tempY = y;\n  }\n\n  addToUsers() {\n    db.ref('/users').push({\n      name: \"Dhruv\"\n    });\n  }\n\n  addToShelfs(x, y) {\n    list2.push([x, y]);\n    db.ref('/shelfs').push({\n      shelf_num: cnt,\n      coordinates: [x, y],\n      connected_coordinates: list2\n    });\n    cnt += 1;\n  }\n\n  removeFromShelfs() {\n    db.ref('/shelfs').remove();\n  }\n\n  addToList(x, y) {\n    list.push([x, y]);\n    this.setState({\n      list: list\n    });\n    console.log(list);\n  }\n\n  addToDict(x, x1, y1) {\n    dict1[\"shelf\" + x] = [x1, y1];\n    this.setState({\n      dict: dict1\n    });\n    console.log(dict1); // const cnt1 = x + 1\n    // this.setState({\n    //     cnt : cnt1\n    // })\n\n    cnt += 1;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"canvas\", {\n      ref: \"canvas\",\n      width: window.innerWidth,\n      height: window.innerHeight,\n      style: {\n        marginTop: 10\n      },\n      onClick: e => {\n        alert(e.clientX + \",\" + e.clientY);\n        {\n          this.addToList(e.clientX, e.clientY);\n        } // {this.addToShelfs(e.clientX,e.clientY)}\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      ref: \"image\",\n      src: matchPath.jpg,\n      className: \"hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}\n\nexport default Map;","map":{"version":3,"sources":["/home/dhruv/Desktop/Walmart/WalmartProj/src/Map.js"],"names":["React","matchPath","db","list","dict1","list2","cnt","mouseX","mouseY","tempX","tempY","Map","Component","constructor","props","state","canvas","ctx","dict","todos","componentDidMount","ref","on","querySnapShot","data","val","todoItems","console","log","i","length","key","refs","getContext","strokeRect","k","x","y","size","start_x","start_y","j","final_x","final_y","n","gap","beginPath","moveTo","lineTo","strokeStyle","stroke","setState","deleteArc","arc","Math","PI","update","addToUsers","push","name","addToShelfs","shelf_num","coordinates","connected_coordinates","removeFromShelfs","remove","addToList","addToDict","x1","y1","render","window","innerWidth","innerHeight","marginTop","e","alert","clientX","clientY","jpg"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,SAAT,QAA0B,cAA1B;AACA,SAAQC,EAAR,QAAiB,UAAjB;AACA,MAAMC,IAAI,GAAG,EAAb;AACA,MAAMC,KAAK,GAAG,EAAd;AACA,MAAMC,KAAK,GAAG,EAAd;AACA,IAAIC,GAAG,GAAG,CAAV;AACA,IAAIC,MAAM,GAAG,CAAb;AACA,IAAIC,MAAM,GAAG,CAAb;AACA,IAAIC,KAAK,GAAG,CAAZ;AACA,IAAIC,KAAK,GAAG,CAAZ;;AACA,MAAMC,GAAN,SAAkBX,KAAK,CAACY,SAAxB,CAAkC;AAC9BC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AAACC,MAAAA,MAAM,EAAE,IAAT;AAAcC,MAAAA,GAAG,EAAG,IAApB;AAAyBd,MAAAA,IAAI,EAAC,EAA9B;AAAiCe,MAAAA,IAAI,EAAG,EAAxC;AAA2CZ,MAAAA,GAAG,EAAE,CAAhD;AAAkDa,MAAAA,KAAK,EAAG;AAA1D,KAAb;AACH;;AACDC,EAAAA,iBAAiB,GAAG;AAChBlB,IAAAA,EAAE,CAACmB,GAAH,CAAO,QAAP,EAAiBC,EAAjB,CAAoB,OAApB,EAA6BC,aAAa,IAAI;AAC1C,UAAIC,IAAI,GAAGD,aAAa,CAACE,GAAd,KAAsBF,aAAa,CAACE,GAAd,EAAtB,GAA4C,EAAvD;AACA,UAAIC,SAAS,GAAGF,IAAhB;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AACH,KAJD;AAKAtB,IAAAA,EAAE,CAACmB,GAAH,CAAO,wBAAP,EAAiCC,EAAjC,CAAoC,OAApC,EAA6CC,aAAa,IAAI;AAC1D,UAAIC,IAAI,GAAGD,aAAa,CAACE,GAAd,KAAsBF,aAAa,CAACE,GAAd,EAAtB,GAA4C,EAAvD;AACA,UAAIC,SAAS,GAAGF,IAAhB;;AACA,WAAI,IAAIK,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACL,IAAI,CAACM,MAAnB,EAA0BD,CAAC,EAA3B,EAA8B;AAC1BF,QAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAI,CAACK,CAAD,CAAJ,CAAQE,GAApB;AACH;;AACDJ,MAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AACH,KAPD,EANgB,CAchB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,QAAIR,MAAM,GAAG,KAAKgB,IAAL,CAAUhB,MAAvB;AACA,QAAIC,GAAG,GAAGD,MAAM,CAACiB,UAAP,CAAkB,IAAlB,CAAV;AACAhB,IAAAA,GAAG,CAACiB,UAAJ,CAAe,CAAf,EAAiB,CAAjB,EAAmB,GAAnB,EAAuB,GAAvB;;AACA,SAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,CAAd,EAAgBA,CAAC,EAAjB,EAAoB;AAChB,UAAIC,CAAC,GAAG,GAAR;AACA,UAAIC,CAAC,GAAG,MAAIF,CAAJ,GAAQ,EAAhB;AACA,UAAIG,IAAI,GAAG,GAAX;AACA,UAAIC,OAAO,GAAGH,CAAd;AACA,UAAII,OAAO,GAAGH,CAAd;;AACA,WAAI,IAAII,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,CAAd,EAAgBA,CAAC,EAAjB,EAAoB;AAChB,aAAI,IAAIZ,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,CAAd,EAAgBA,CAAC,EAAjB,EAAoB;AAChB,cAAIa,OAAO,GAAGH,OAAO,GAAGD,IAAxB;AACA,cAAIK,OAAO,GAAGH,OAAO,GAAGF,IAAxB;AACArB,UAAAA,GAAG,CAACiB,UAAJ,CAAeK,OAAf,EAAuBC,OAAvB,EAA+BF,IAA/B,EAAoCA,IAApC;AACAC,UAAAA,OAAO,GAAGA,OAAO,GAAGD,IAApB;AACH;;AACDC,QAAAA,OAAO,GAAGH,CAAV;AACAI,QAAAA,OAAO,GAAGA,OAAO,GAAGF,IAApB;AACH;AACJ;;AACD,QAAIF,CAAC,GAAG,GAAR;AACA,QAAIC,CAAC,GAAG,EAAR;AACA,QAAIO,CAAC,GAAG,CAAR;AACA,QAAId,MAAM,GAAG,GAAb;AACA,QAAIe,GAAG,GAAG,GAAV;;AACA,SAAI,IAAIhB,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACe,CAAd,EAAgBf,CAAC,EAAjB,EAAoB;AAChBZ,MAAAA,GAAG,CAAC6B,SAAJ;AACA7B,MAAAA,GAAG,CAAC8B,MAAJ,CAAWX,CAAX,EAAaC,CAAb;AACApB,MAAAA,GAAG,CAAC+B,MAAJ,CAAWZ,CAAC,GAACN,MAAb,EAAoBO,CAApB;AACAA,MAAAA,CAAC,GAAGA,CAAC,GAAGQ,GAAR;AACA5B,MAAAA,GAAG,CAACgC,WAAJ,GAAkB,SAAlB;AACAhC,MAAAA,GAAG,CAACiC,MAAJ;AACH;;AACDjC,IAAAA,GAAG,CAAC6B,SAAJ;AACA7B,IAAAA,GAAG,CAAC8B,MAAJ,CAAW,GAAX,EAAe,EAAf;AACA9B,IAAAA,GAAG,CAAC+B,MAAJ,CAAW,GAAX,EAAe,KAAG,MAAI,CAAtB;AACA/B,IAAAA,GAAG,CAACgC,WAAJ,GAAkB,SAAlB;AACAhC,IAAAA,GAAG,CAACiC,MAAJ;AACAjC,IAAAA,GAAG,CAAC6B,SAAJ;AACA7B,IAAAA,GAAG,CAAC8B,MAAJ,CAAW,MAAI,GAAf,EAAmB,EAAnB;AACA9B,IAAAA,GAAG,CAAC+B,MAAJ,CAAW,MAAI,GAAf,EAAmB,KAAG,MAAI,CAA1B;AACA/B,IAAAA,GAAG,CAACgC,WAAJ,GAAkB,SAAlB;AACAhC,IAAAA,GAAG,CAACiC,MAAJ;AACAjC,IAAAA,GAAG,CAACgC,WAAJ,GAAkB,SAAlB,CAjEgB,CAkEhB;;AACA,SAAI,IAAId,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,CAAd,EAAgBA,CAAC,EAAjB,EAAoB;AAChB,UAAIC,CAAC,GAAG,GAAR;AACA,UAAIC,CAAC,GAAG,MAAIF,CAAJ,GAAQ,EAAhB;AACA,UAAIG,IAAI,GAAG,GAAX;AACA,UAAIC,OAAO,GAAGH,CAAd;AACA,UAAII,OAAO,GAAGH,CAAd;;AACA,WAAI,IAAII,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,CAAd,EAAgBA,CAAC,EAAjB,EAAoB;AAChB,aAAI,IAAIZ,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,CAAd,EAAgBA,CAAC,EAAjB,EAAoB;AAChB,cAAIa,OAAO,GAAGH,OAAO,GAAGD,IAAxB;AACA,cAAIK,OAAO,GAAGH,OAAO,GAAGF,IAAxB;AACArB,UAAAA,GAAG,CAACiB,UAAJ,CAAeK,OAAf,EAAuBC,OAAvB,EAA+BF,IAA/B,EAAoCA,IAApC;AACAC,UAAAA,OAAO,GAAGA,OAAO,GAAGD,IAApB;AACH;;AACDC,QAAAA,OAAO,GAAGH,CAAV;AACAI,QAAAA,OAAO,GAAGA,OAAO,GAAGF,IAApB;AACH;AACJ;;AACD,QAAIF,CAAC,GAAG,GAAR;AACA,QAAIC,CAAC,GAAG,EAAR;AACA,QAAIO,CAAC,GAAG,CAAR;AACA,QAAId,MAAM,GAAG,GAAb;AACA,QAAIe,GAAG,GAAG,GAAV;;AACA,SAAI,IAAIhB,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACe,CAAd,EAAgBf,CAAC,EAAjB,EAAoB;AAChBZ,MAAAA,GAAG,CAAC6B,SAAJ;AACA7B,MAAAA,GAAG,CAAC8B,MAAJ,CAAWX,CAAX,EAAaC,CAAb;AACApB,MAAAA,GAAG,CAAC+B,MAAJ,CAAWZ,CAAC,GAACN,MAAb,EAAoBO,CAApB;AACAA,MAAAA,CAAC,GAAGA,CAAC,GAAGQ,GAAR;AACA5B,MAAAA,GAAG,CAACgC,WAAJ,GAAkB,SAAlB;AACAhC,MAAAA,GAAG,CAACiC,MAAJ;AACH;;AACDjC,IAAAA,GAAG,CAAC6B,SAAJ;AACA7B,IAAAA,GAAG,CAAC8B,MAAJ,CAAW,GAAX,EAAe,EAAf;AACA9B,IAAAA,GAAG,CAAC+B,MAAJ,CAAW,GAAX,EAAe,KAAG,MAAI,CAAtB;AACA/B,IAAAA,GAAG,CAACgC,WAAJ,GAAkB,SAAlB;AACAhC,IAAAA,GAAG,CAACiC,MAAJ;AACAjC,IAAAA,GAAG,CAAC6B,SAAJ;AACA7B,IAAAA,GAAG,CAAC8B,MAAJ,CAAW,MAAI,GAAf,EAAmB,EAAnB;AACA9B,IAAAA,GAAG,CAAC+B,MAAJ,CAAW,MAAI,GAAf,EAAmB,KAAG,MAAI,CAA1B;AACA/B,IAAAA,GAAG,CAACgC,WAAJ,GAAkB,SAAlB;AACAhC,IAAAA,GAAG,CAACiC,MAAJ;AACAd,IAAAA,CAAC,GAAG,CAAJ;AACAC,IAAAA,CAAC,GAAG,GAAJ;AACAC,IAAAA,IAAI,GAAG,GAAP;;AACA,SAAI,IAAIT,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,CAAd,EAAgBA,CAAC,EAAjB,EAAoB;AAChBZ,MAAAA,GAAG,CAAC8B,MAAJ,CAAWX,CAAX,EAAaC,CAAb;AACApB,MAAAA,GAAG,CAACiB,UAAJ,CAAeE,CAAf,EAAiBC,CAAjB,EAAmBC,IAAI,GAAC,EAAxB,EAA2BA,IAA3B;AACAD,MAAAA,CAAC,GAAGA,CAAC,GAAG,GAAR;AACH;;AACDpB,IAAAA,GAAG,CAACgC,WAAJ,GAAkB,SAAlB;AACAhC,IAAAA,GAAG,CAACiB,UAAJ,CAAe,CAAf,EAAiB,GAAjB,EAAqB,GAArB,EAAyB,GAAzB;AACA3B,IAAAA,MAAM,GAAG,GAAT;AACAC,IAAAA,MAAM,GAAG,GAAT;AACA,SAAK2C,QAAL,CAAc;AACVlC,MAAAA,GAAG,EAAGA;AADI,KAAd;AAGH;;AACDmC,EAAAA,SAAS,GAAE;AACP,SAAKrC,KAAL,CAAWE,GAAX,CAAe6B,SAAf;AACA,SAAK/B,KAAL,CAAWE,GAAX,CAAeoC,GAAf,CAAmB5C,KAAnB,EAA0BC,KAA1B,EAAiC,EAAjC,EAAqC,CAArC,EAAwC,IAAI4C,IAAI,CAACC,EAAjD;AACA,SAAKxC,KAAL,CAAWE,GAAX,CAAeiC,MAAf;AACH;;AACDM,EAAAA,MAAM,CAACpB,CAAD,EAAGC,CAAH,EAAK;AACP,SAAKtB,KAAL,CAAWE,GAAX,CAAe6B,SAAf;AACA,SAAK/B,KAAL,CAAWE,GAAX,CAAeoC,GAAf,CAAmBjB,CAAnB,EAAsBC,CAAtB,EAAyB,EAAzB,EAA6B,CAA7B,EAAgC,IAAIiB,IAAI,CAACC,EAAzC;AACA,SAAKxC,KAAL,CAAWE,GAAX,CAAeiC,MAAf;AACAzC,IAAAA,KAAK,GAAG2B,CAAR;AACA1B,IAAAA,KAAK,GAAG2B,CAAR;AACH;;AACDoB,EAAAA,UAAU,GAAG;AACTvD,IAAAA,EAAE,CAACmB,GAAH,CAAO,QAAP,EAAiBqC,IAAjB,CAAsB;AAClBC,MAAAA,IAAI,EAAG;AADW,KAAtB;AAGH;;AACDC,EAAAA,WAAW,CAACxB,CAAD,EAAGC,CAAH,EAAK;AACZhC,IAAAA,KAAK,CAACqD,IAAN,CAAW,CAACtB,CAAD,EAAGC,CAAH,CAAX;AACAnC,IAAAA,EAAE,CAACmB,GAAH,CAAO,SAAP,EAAkBqC,IAAlB,CAAuB;AACnBG,MAAAA,SAAS,EAAGvD,GADO;AAEnBwD,MAAAA,WAAW,EAAG,CAAC1B,CAAD,EAAGC,CAAH,CAFK;AAGnB0B,MAAAA,qBAAqB,EAAG1D;AAHL,KAAvB;AAKAC,IAAAA,GAAG,IAAI,CAAP;AACH;;AACD0D,EAAAA,gBAAgB,GAAE;AACd9D,IAAAA,EAAE,CAACmB,GAAH,CAAO,SAAP,EAAkB4C,MAAlB;AACH;;AACDC,EAAAA,SAAS,CAAC9B,CAAD,EAAGC,CAAH,EAAK;AACVlC,IAAAA,IAAI,CAACuD,IAAL,CAAU,CAACtB,CAAD,EAAGC,CAAH,CAAV;AACA,SAAKc,QAAL,CAAc;AACVhD,MAAAA,IAAI,EAAGA;AADG,KAAd;AAGAwB,IAAAA,OAAO,CAACC,GAAR,CAAYzB,IAAZ;AACH;;AACDgE,EAAAA,SAAS,CAAC/B,CAAD,EAAGgC,EAAH,EAAMC,EAAN,EAAS;AACdjE,IAAAA,KAAK,CAAC,UAAUgC,CAAX,CAAL,GAAqB,CAACgC,EAAD,EAAIC,EAAJ,CAArB;AACA,SAAKlB,QAAL,CAAc;AACVjC,MAAAA,IAAI,EAAGd;AADG,KAAd;AAGAuB,IAAAA,OAAO,CAACC,GAAR,CAAYxB,KAAZ,EALc,CAMd;AACA;AACA;AACA;;AACAE,IAAAA,GAAG,IAAI,CAAP;AACH;;AACDgE,EAAAA,MAAM,GAAG;AACL,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAQ,MAAA,GAAG,EAAC,QAAZ;AAAqB,MAAA,KAAK,EAAIC,MAAM,CAACC,UAArC;AAAiD,MAAA,MAAM,EAAED,MAAM,CAACE,WAAhE;AAA6E,MAAA,KAAK,EAAE;AACpFC,QAAAA,SAAS,EAAE;AADyE,OAApF;AAEG,MAAA,OAAO,EAAEC,CAAC,IAAI;AACbC,QAAAA,KAAK,CAACD,CAAC,CAACE,OAAF,GAAY,GAAZ,GAAkBF,CAAC,CAACG,OAArB,CAAL;AACA;AAAC,eAAKZ,SAAL,CAAeS,CAAC,CAACE,OAAjB,EAAyBF,CAAC,CAACG,OAA3B;AAAoC,SAFxB,CAGb;AACD,OANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAQE;AAAK,MAAA,GAAG,EAAC,OAAT;AAAiB,MAAA,GAAG,EAAE7E,SAAS,CAAC8E,GAAhC;AAAqC,MAAA,SAAS,EAAC,QAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,CADF;AAYD;;AA7L2B;;AAiMlC,eAAepE,GAAf","sourcesContent":["import * as React from 'react';\nimport { matchPath } from 'react-router';\nimport {db} from './config';\nconst list = []\nconst dict1 = {}\nconst list2 = []\nvar cnt = 0\nvar mouseX = 0\nvar mouseY = 0\nvar tempX = 0\nvar tempY = 0\nclass Map extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {canvas: null,ctx : null,list:[],dict : {},cnt :0,todos : {}};\n    }    \n    componentDidMount() {\n        db.ref('/users').on('value', querySnapShot => {\n            let data = querySnapShot.val() ? querySnapShot.val() : {};\n            let todoItems = data;            \n            console.log(data);   \n        });\n        db.ref('/coordinates/Shelf_Num').on('value', querySnapShot => {\n            let data = querySnapShot.val() ? querySnapShot.val() : {};\n            let todoItems = data;\n            for(var i=0;i<data.length;i++){\n                console.log(data[i].key)\n            }\n            console.log(data);   \n        });\n        // db.ref(\"/users\").on('value',function(querySnapshot) {\n        //     querySnapshot.forEach(function(doc) {\n        //         // doc.data() is never undefined for query doc snapshots\n        //         console.log(doc.id, \" => \", doc.data());\n        //     });\n        // });\n        //console.log(this.todos)\n        // console.log(this.refs)\n        var canvas = this.refs.canvas\n        var ctx = canvas.getContext(\"2d\")\n        ctx.strokeRect(5,5,100,100)\n        for(var k=0;k<3;k++){\n            var x = 250;\n            var y = 290*k + 60;\n            var size = 100\n            var start_x = x;\n            var start_y = y;   \n            for(var j=0;j<2;j++){\n                for(var i=0;i<4;i++){\n                    var final_x = start_x + size;\n                    var final_y = start_y + size;\n                    ctx.strokeRect(start_x,start_y,size,size);\n                    start_x = start_x + size;\n                }\n                start_x = x;\n                start_y = start_y + size;\n            }\n        }\n        var x = 150\n        var y = 30\n        var n = 4\n        var length = 580\n        var gap = 280     \n        for(var i=0;i<n;i++){\n            ctx.beginPath();\n            ctx.moveTo(x,y);\n            ctx.lineTo(x+length,y);\n            y = y + gap;\n            ctx.strokeStyle = \"#FF0000\";\n            ctx.stroke();\n        }        \n        ctx.beginPath();\n        ctx.moveTo(150,30);\n        ctx.lineTo(150,30+280*3);\n        ctx.strokeStyle = \"#FF0000\";\n        ctx.stroke();\n        ctx.beginPath();\n        ctx.moveTo(150+580,30);\n        ctx.lineTo(150+580,30+280*3);\n        ctx.strokeStyle = \"#FF0000\";\n        ctx.stroke();\n        ctx.strokeStyle = \"#000000\";\n        //next set of paths\n        for(var k=0;k<3;k++){\n            var x = 810;\n            var y = 290*k + 60;\n            var size = 100\n            var start_x = x;\n            var start_y = y;   \n            for(var j=0;j<2;j++){\n                for(var i=0;i<4;i++){\n                    var final_x = start_x + size;\n                    var final_y = start_y + size;\n                    ctx.strokeRect(start_x,start_y,size,size);\n                    start_x = start_x + size;\n                }\n                start_x = x;\n                start_y = start_y + size;\n            }\n        }\n        var x = 730\n        var y = 30\n        var n = 4\n        var length = 580\n        var gap = 280     \n        for(var i=0;i<n;i++){\n            ctx.beginPath();\n            ctx.moveTo(x,y);\n            ctx.lineTo(x+length,y);\n            y = y + gap;\n            ctx.strokeStyle = \"#FF0000\";\n            ctx.stroke();\n        }        \n        ctx.beginPath();\n        ctx.moveTo(730,30);\n        ctx.lineTo(730,30+280*3);\n        ctx.strokeStyle = \"#FF0000\";\n        ctx.stroke();\n        ctx.beginPath();\n        ctx.moveTo(730+580,30);\n        ctx.lineTo(730+580,30+280*3);\n        ctx.strokeStyle = \"#FF0000\";\n        ctx.stroke();\n        x = 0\n        y = 170\n        size = 100\n        for(var i=0;i<3;i++){\n            ctx.moveTo(x,y);\n            ctx.strokeRect(x,y,size+20,size);\n            y = y + 200;\n        }\n        ctx.strokeStyle = \"#000000\"\n        ctx.strokeRect(5,750,100,100)\n        mouseX = 150;\n        mouseY = 870;\n        this.setState({\n            ctx : ctx\n        });\n    }\n    deleteArc(){\n        this.state.ctx.beginPath()\n        this.state.ctx.arc(tempX, tempY, 20, 0, 2 * Math.PI);\n        this.state.ctx.stroke();\n    }\n    update(x,y){\n        this.state.ctx.beginPath()\n        this.state.ctx.arc(x, y, 20, 0, 2 * Math.PI);\n        this.state.ctx.stroke();\n        tempX = x\n        tempY = y\n    }\n    addToUsers() {\n        db.ref('/users').push({\n            name : \"Dhruv\"\n        });\n    }\n    addToShelfs(x,y){\n        list2.push([x,y])\n        db.ref('/shelfs').push({\n            shelf_num : cnt,\n            coordinates : [x,y],\n            connected_coordinates : list2 \n        })\n        cnt += 1\n    }\n    removeFromShelfs(){\n        db.ref('/shelfs').remove()\n    }\n    addToList(x,y){\n        list.push([x,y]);\n        this.setState({\n            list : list\n        })\n        console.log(list);\n    }\n    addToDict(x,x1,y1){\n        dict1[\"shelf\" + x] = [x1,y1]\n        this.setState({\n            dict : dict1\n        })\n        console.log(dict1);\n        // const cnt1 = x + 1\n        // this.setState({\n        //     cnt : cnt1\n        // })\n        cnt += 1\n    }\n    render() {\n        return(\n          <div >\n            <canvas ref=\"canvas\" width = {window.innerWidth} height={window.innerHeight} style={{\n            marginTop: 10,\n            }} onClick={e => {\n                alert(e.clientX + \",\" + e.clientY)\n                {this.addToList(e.clientX,e.clientY)}\n                // {this.addToShelfs(e.clientX,e.clientY)}\n              }}/>\n            <img ref=\"image\" src={matchPath.jpg} className=\"hidden\" />\n          </div>\n        )\n      }\n    }\n\n\nexport default Map;"]},"metadata":{},"sourceType":"module"}